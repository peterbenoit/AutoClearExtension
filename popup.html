<!DOCTYPE html>
<html>
    <head>
        <title>AutoClear Extension Popup</title>
        <link rel="stylesheet" href="style.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
    <body>
        <h1>AutoClear Settings</h1>

        <fieldset id="global-settings-section">
            <legend>Global Settings</legend>
            <div id="global-controls" class="control-group">
                <div>
                    <input type="checkbox" id="global-enable-toggle" />
                    <label for="global-enable-toggle">Enable AutoClearExtension</label>
                </div>
                <button id="reset-all-rules-button">Reset All Rules</button>
                <p id="global-status-message" class="status-message"></p>
            </div>
        </fieldset>

        <fieldset id="current-domain-rule-section">
            <legend>Rule for Current Domain</legend>
            <div id="domain-info">
                <p>Current Domain: <strong id="current-domain">Loading...</strong></p>
            </div>

            <div id="rule-editor">
                <label for="rule-mode">Mode:</label>
                <select id="rule-mode">
                    <option value="off">Disable (Do Nothing)</option>
                    <option value="blacklist">Always Clear (Blacklist)</option>
                    <option value="allow">Temporarily Allow</option>
                </select>

                <div id="ttl-section" style="display: none">
                    <label for="ttl-value">Allow for:</label>
                    <input type="number" id="ttl-value" min="1" value="60" />
                    <span>minutes</span>
                </div>

                <div class="button-group">
                    <button id="save-rule-button">Save Rule</button>
                    <button id="clear-cookies-now-button" disabled>Clear Cookies Now</button>
                </div>
                <p id="status-message" class="status-message"></p>
            </div>

            <div id="current-rule-display" style="margin-top: 10px">
                <h3>Current Effective Rule:</h3>
                <p id="current-rule-text">Loading rule...</p>
            </div>
        </fieldset>

        <fieldset id="stored-rules-summary-fieldset">
            <legend>Stored Rules Summary</legend>
            <div id="stored-rules-summary-section" class="control-group">
                <ul id="stored-rules-list"></ul>
                <p id="no-rules-stored-message" style="display: none">
                    No specific domain rules are currently stored.
                </p>
            </div>
        </fieldset>

        <fieldset id="debug-log-section">
            <legend>Debug Log</legend>
            <div>
                <input type="checkbox" id="debug-log-enable" />
                <label for="debug-log-enable">Enable Debug Log</label>
            </div>
            <div
                id="debug-log-controls"
                class="button-group"
                style="margin-top: 5px; display: none"
            >
                <button id="clear-debug-log-button">Clear Log</button>
                <button id="toggle-timestamps-button">Toggle Timestamps</button>
            </div>
            <div id="debug-log-list-container" style="display: none"></div>
        </fieldset>

        <script src="popup.js"></script>
    </body>
</html>
